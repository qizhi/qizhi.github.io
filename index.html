<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<body>
	<h1>Road to Japan</h1>

	<script type="text/javascript">
		//Seedable random number generator in Javascript 
		//http://davidbau.com/archives/2010/01/30/random_seeds_coded_hints_and_quintillions.html#more
		!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[];f=1==f?{entropy:!0}:f||{};var r=l(k(f.entropy?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(f.pass||g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,"global"in f?f.global:this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
		
		var inputUsers = ["甘玉磊", "满静", "史娅莎", "阴晨肸", "陈琛", "张羽", "孔德琦", "杨璐", "车征", "王子正", "周朔", "郗伟", "李志坚", "陈洪渝", "李石磊", "付佳明", "尹成志", "方炜", "徐健", "刘辰", "张启智", "甄铖", "李倩倩", "卢佳", "王婧"];
		document.write("报名：" + inputUsers.join(",")); 
		document.write("</br>");

		function selectUsers()
		{
			var value = document.getElementById("seedRandomInput").value;
			var inputUsersClone = inputUsers.slice(0, inputUsers.length)

			//set default deed
			Math.seedrandom(value);

			//Knuth-Fisher-Yates shuffle algorithm.
			for (var i = inputUsersClone.length - 1; i > 0; i--) {
				var n = Math.floor(Math.random()*(i + 1))
				//swap
				var a = inputUsersClone[i]
				var b = inputUsersClone[n]
				inputUsersClone[n] = a
				inputUsersClone[i] = b
			};

			var outputUsers = inputUsersClone.slice(0, 10)
			document.getElementById("outputUsersList").innerText = "幸运儿：" + outputUsers.join(",")
		}
	</script>

	<div id="outputUsersList">幸运儿：</div>	
	<br/>

	<form name="from">
	   输入随机数种子：
	   <input type="text" value="乐元素" id="seedRandomInput" name="seedRandomInput">
	   <input type=button name="seedRandomButton" value="一起拼人品！" id="seedRandomButton" onclick="javascript:selectUsers();">
	</form>

</body>

<p>随机数生成算法：<a href="http://davidbau.com/archives/2010/01/30/random_seeds_coded_hints_and_quintillions.html#more"> RC4-based PRNG Math.random()</a>.</p>
</html>
